var h_data={};function random(e,t){return Math.floor(Math.random()*(t-e+1))+e}function randomarray(e){return e[Math.floor(Math.random()*e.length)]}function h_gettable(){return document.querySelector("#cnvbb")||document.querySelector("#centertext")}function isHidden(e){return"none"===window.getComputedStyle(e).display}function randomobject(e){var t=Object.keys(e);return e[t[Math.floor(Math.random()*t.length)]]}function stripHtml(e){let t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""}function getPrimeNumbers(e){var t,n,r=Math.floor(e/2),a=[1];for(e%2==0?(t=2,n=1):(t=3,n=2);t<=r;t+=n)e%t==0&&a.push(t);return a.push(e),a}function h_tomath(e){return e=(e=(e=(e=(e=e.replaceAll("×","*")).replaceAll("÷","/")).replaceAll("–","-")).replaceAll(",",".")).replaceAll("|","")}function h_clean(){h_data.running=!1,document.getElementById("h_injectmenu");var e=document.getElementById("h_injectmenu"),t=document.getElementById("h_menu");e&&e.remove(),t&&t.remove()}function h_stop(){console.debug("Stopping"),h_clean()}function h_request(e,t){var n=new XMLHttpRequest;return e+=t?"?nocache="+(new Date).getTime():"?v="+Math.floor(100*h_data.version),n.open("GET",e,!1),n.send(),n.responseText}function h_updateprogress(){if(h_data.running){var e=Date.now()-h_data.progresstart;document.getElementById("h_progress").style.width=Math.floor(e/h_data.waittime*100)+"%",e>=h_data.waittime||setTimeout(h_updateprogress,50)}}function h_stopbtn(){h_data.running?(h_data.wasrunning=!0,h_data.running=!1):h_data.wasrunning&&(h_data.running=!0,h_data.wasrunning=!1,h_next()),this.innerHTML=h_data.running?"Stop":"Resume"}function h_inputboxie(e,t,n){var r=n?e.value/1e3:e.value;e.parentElement.querySelector(".value").innerHTML=r+t}function h_inputboxietime(e){var t=e.parentElement.querySelectorAll(".value")[1],n=e.parentElement.querySelectorAll(".value")[0],r=document.getElementById("TESTLENGTH").value;if(101!=r){var a=e.value*r,o=Math.floor(a/60),i=a%60;t.innerHTML="~"+o+"m "+i+"s",t.removeAttribute("hide")}else t.innerHTML="",t.setAttribute("hide","true");n.innerHTML=e.value+"s"}function h_license(e){let t=document.forms.h_licenseform;(e||t.license.checked)&&(t.remove(),document.forms.h_form.style.display="")}function h_callextension(e,t){var n={};return t||(n.table=h_gettable(),n.iswrong=0!==h_data.miss&&100*Math.random()<h_data.miss),{output:window[e](n,t),iswrong:n.iswrong}}function h_getwrong(){return document.getElementById("q91a").value}function h_next(){if(h_data.running){var e=h_getwrong(),t=h_callextension(h_data.test);if("done"!==t.output){if(!t.iswrong&&h_getwrong()>e)return h_data.waswrong=!1,console.debug("I did it wrong!!"),void h_stop();var n=h_data.isbrute?0:random(+h_data.delay-+h_data.variation,+h_data.delay+ +h_data.variation);0!=n&&(h_data.waittime=n,h_data.progresstart=new Date,document.getElementById("h_progress").style.width=0,setTimeout(h_updateprogress,0)),setTimeout(h_next,n)}else h_stop()}}function h_apply(){if(h_gettable()){h_data.running=!0;var e=document.forms.h_form;h_data.delay=1e3*e.delay.value,h_data.variation=e.variation.value,h_data.miss=e.misschance.value,h_data.isbrute=0==h_data.delay,document.getElementById("h_menu").remove();var t=document.getElementById("h_injectmenu");document.getElementById("bz1x").after(t),t.hidden=!1,document.getElementById("h_stopbtn").addEventListener("click",h_stopbtn),h_next()}else console.error("are you in a test?")}function h_init(){h_clean();var e,t=!h_data.extensionlist;if(t?(console.warn("Running in local mode. if you dont know what this is you did something wrong!"),e="http://localhost:5500/src/"):e="https://raw.githubusercontent.com/thegamerx1/thatquizhack/master/src/",console.debug("Loading extensions"),t)var n=JSON.parse(h_request(e+"extensions.json"));else n=h_data.extensionlist;for(i=0;i<n.list.length;i++){let r=n.list[i];if(t){let t=document.createElement("script");t.innerHTML=h_request(e+"extensions/"+r+".js"),document.body.append(t)}let a="hex_"+r;if(h_callextension(a,!0).output){console.debug("Test is: "+r),h_data.test=a;break}}if(h_data.test){var r=h_request(e+"html.html"),a=h_request(e+"css.css"),o=document.createElement("style");o.innerHTML=a;r=document.createRange().createContextualFragment(r);document.body.appendChild(r),document.head.append(o);var l=document.forms.h_form;t&&(h_license(!0),l.delay.value=0,l.misschance.value=0),l.querySelectorAll("input").forEach(e=>{console.log(e),e.dispatchEvent(new Event("input"))})}else console.error("Could not find a extension for current test.")}function hex_Identify(e,t){if(t)return"object"==typeof idfraction&&null!==idfraction;var n,r,a=e.table.querySelector("input#C"),o=e.table.querySelector("input#D"),i=document.getElementById("BOX0");if(!a&&!o&&!i)return"done";if(a&&o)n=idfraction.dY,r=idfraction.fz;else if(i)for(let e=0;e<idfraction.dY;e++)i.parentElement.childNodes[e].click();e.iswrong&&(a&&o?(n-=random(-20,20),r-=random(-20,20)):i&&randomarray(i.parentElement.childNodes).click()),a&&o&&(a.value=n,o.value=r),idfraction.v86()}function hex_Exponents(e,t){if(t)return"object"==typeof exponent&&null!==exponent;var n=e.table.querySelector("input#C"),r=e.table.querySelector("input#D"),a=stripHtml(exponent.ca);if(r){let e=a.match(/(.*)\/(.*)/);var o=e[1],i=e[2]}else o=a;e.iswrong&&(o-=random(-20,20),i-=random(-20,20)),n.value=o,r&&(r.value=i),exponent.v86()}function hex_Averages(e,t){if(t)return"object"==typeof sets&&null!==sets;var n,r,a=e.table.querySelector("input#C"),o=e.table.querySelector("input#D");if(!a)return"done";if(o){let e=[0,0,0];sets.ca.length>2&&(e=sets.ca.match(/(.*)\/(.*)/)),n=e[1],r=e[2]}else n=sets.ca;e.iswrong&&(n-=random(-20,20),o&&(r-=random(-20,20))),a.value=n,o&&(o.value=r),sets.v86()}function hex_Factor(e,t){if(t)return"object"==typeof factors&&null!==factors;var n=e.table.querySelector("table thead tr td.qq"),r=e.table.querySelector("tbody tr td input#C.Mh"),a={prime:e.table.querySelector("input#prmN"),no:e.table.querySelector("input#cmpN")},o=e.table.querySelector("div#bo.bo div.jX7");if(!o&&!a.prime&&!r)return"done";if(a.prime){if(math.isPrime(n.innerHTML))var i=a.prime;else i=a.no}if(o){var l=o.childNodes,u=factors.aWT.prans.match(/(\d+)(<sup>(\d+))?/g);l.forEach(e=>{u.forEach(t=>{let n=t.match(/(\d+)<sup>(\d+)/),r=t,a=1;if(n&&(r=n[1],a=n[2]),r===e.innerHTML)for(let t=0;t<a;t++)e.click()})})}if(r)var c=factors.aWT.prans;e.iswrong&&(console.info("wrong"),a.prime&&(i=randomobject(a)),o&&randomarray(l).click(),r&&(c-=random(-20,20))),a.prime&&i.click(),o&&factors.aWc(),r&&(r.value=c,factors.v86())}function hex_Equality(e,t){if(t)return"object"==typeof inequality&&null!==inequality;var n={">":e.table.querySelector("tbody tr th#GTA.vam button"),"=":e.table.querySelector("tbody tr th#EQA.vam button"),"<":e.table.querySelector("tbody tr th#LTA.vam button")},r=n[inequality.ca];e.iswrong&&(r=randomobject(n)),r.click()}function hex_Simplify(e,t){if(t)return"object"==typeof reducef&&null!==reducef;var n,r,a,o=e.table.querySelector("input#C"),i=e.table.querySelector("input#D"),l=e.table.querySelector("input#WH");if(!o&&!i)return"done";i&&!i.classList.contains("hidden")?(r=reducef.fz,n=reducef.dY):n=reducef.ca,l&&(a=reducef.aZX),e.iswrong&&(n-=random(-20,20),r-=random(-20,20)),o.value=n,i&&(i.value=r),l&&(l.value=a),reducef.v86()}function hex_Fractions(e,t){if(t)return"object"==typeof fraction&&null!==fraction;var n,r,a,o,i=e.table.querySelector("input#E"),l=e.table.querySelector("input#F"),u=e.table.querySelector("input#W"),c=e.table.querySelector("input#C");if(!(c||i||l||u))return"done";c?o=arithmetic.ca:(n=fraction.dY,r=fraction.fz,u&&(a=fraction.aZX)),e.iswrong&&(o-=random(-20,20),n-=random(-20,20),r-=random(-20,20),a-=random(-20,20)),c?(c.value=o,arithmetic.v86()):(i&&(i.value=n),l&&(l.value=r),u&&(u.value=a),fraction.v86())}function hex_Arithmetic(e,t){if(t)return"object"==typeof arithmetic&&null!==arithmetic;var n=e.table.querySelector("input#C");if(!n)return"done";var r=arithmetic.ca;e.iswrong&&(r-=random(-20,20)),n.value=r,arithmetic.v86()}h_data.extensionlist=JSON.parse('{"list": ["Identify", "Exponents", "Averages", "Factor", "Equality", "Simplify", "Fractions", "Arithmetic"]}'),h_data.version="2.65",h_init();